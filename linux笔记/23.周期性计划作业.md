# 周期性计划作业--cron

- cron：是一个进程。可以让linux周期性的执行某一命令

- crontab是一个命令，可以设置linux周期性的执行某一命令。
	- -u：设置某一用户的周期性工作---root权限；
	- -e：编辑crontab的工作内容
	- -l：查阅crontab的工作内容
	- -r：移除所有的crontab的工作内容，若仅要移除一项，请用-e去编辑
	
### crontab的格式讲解

- 一行代表一个任务
- minute hour day month week command
	- minute：表示分钟，可以使从0-59之间的任何整数
	- hour：表示小时，可以使从0-23之间的任何整数
	- day：表示日期，可以使从1-31之间的任何整数
	- month：表示月份，可以使从1-12之间的任何整数
	- week：表示星期几，可以使从0-7之间的任何整数，这里的0或7代表星期日
	- command：要执行的命令，可以使系统命令，也可以是自己编写的脚本文件。
	
	|特殊符号|代表含义|
	|--|--|
	|*（星号）|代表任何时刻都接受的意思，*代表的是任何时候|
	|，（逗号）|代表分割字段的意思，例如：15,30,45 * * * *command代表的是每月每日每小时的15	分，30分，45分的时候执行命令|
	|-(减号)|代表一段时间范围内，例如：10 7-10 * * * command代表的是每月每日的7点到10点的10分整时执行命令|
	|/n|那个n代表数字，也就是每隔n单位间隔的意思，例如/5****command代表的是每月每日每隔5分钟执行一次|
	
### crontab---配置举例

|实例||
|--|--|
|每一分钟执行一次|/1 * * * * command|
|每小时的第15,30,45分钟执行|15,30,45 * * * * command|
|7点到10点的第10，50分钟执行|10,50 7-10 * * * command|
|每隔一天的7点到11点的第25和第50分钟执行|25,50 7-11 * /1 * * command|
|每周一的7点到11点的第25和第50分钟执行|25,50 7-11 * * 1 command|
|每天的3:30执行|30 3 * * * command|
|每月1、10、20日的3:30执行|30 3 1,10,20 * * command|
|每周六、周日的3:30执行|30 3 * * 6,7 command|
|每天9点到16点之间每隔15分钟执行|/15 9-16 * * * command|


######举例 crontab
- 每个晚上10点，提示用户可以去睡觉了

- 每分钟，查看/var/log/cron日志文件有没有发生变化

### crontab配置原理
- 当使用者使用crontab这个命令来创建工作排程后，该项工作就会被记录到/var/spool/cron/里面去了，而且是以账号来作为判别的
- 如：adrian用户使用crontab后，他的工作会被记录到/var/spool/cron/adrian中。另外，cron运行的每一项工作都会被记录到/var/log/cron这个日志文件中
- cron服务每分钟检测一次，所以cron会每分钟去读取一次/etc/crontab与/var/spool/cron里的数据内容，因此，只要你编辑完/etc/crontab这个文件，并且将它储存之后，那么cron的配置就自动的会来运行了
- 如果你修改完crontab或者添加的crontab没有马上的执行起来，那么你可以用systemctl reststart crond.service重启